<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="blog,java,mybatis,spring,web">
    <meta name="description" content="java,web,spring,mybatis,vue,jquery,åšå®¢ï¼Œblogï¼Œhtml,http">
    <meta name="author" content="ShiJh">
    
    <title>
        
            MyBatis |
        
        ShiJhBlogs
    </title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"blog.pressed.top","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"https://avatars.githubusercontent.com/u/55338151?s=60&v=4","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"300px","content_max_width":"920px","hover":{"shadow":false,"scale":true},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep learning Keep loving"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":false},"version":"3.4.1"};
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s æœˆå‰","year":"%s å¹´å‰"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            <a class="logo-title" href="/">
                ShiJhBlogs
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                é¦–é¡µ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                å½’æ¡£
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                åˆ†ç±»
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                æ ‡ç­¾
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >
                                å‹é“¾
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                å…³äº
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">é¦–é¡µ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">å½’æ¡£</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">åˆ†ç±»</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">æ ‡ç­¾</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links">å‹é“¾</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">å…³äº</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">MyBatis</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="https://avatars.githubusercontent.com/u/55338151?s=60&v=4">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">ShiJh</span>
                        
                            <span class="author-label">Lv2</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-03-12 00:00:00
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E5%90%8E%E7%AB%AF/">åç«¯</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/web/">web</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/java/">java</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>4.2k å­—</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>17 åˆ†é’Ÿ</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <p>mybatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œé€šè¿‡é…ç½®çš„æ–¹å¼å³å¯å¯¹æ•°æ®åº“è¿›è¡ŒæŒä¹…åŒ–æ“ä½œã€‚ä¸»è¦è®²è¿°åŸå§‹Mybatisçš„ç”¨æ³•ï¼Œåå…¥é—¨å‘</p>
<span id="more"></span>
<h1>ğŸ¦MyBatis</h1>
<p>mybatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œé€šè¿‡é…ç½®çš„æ–¹å¼å³å¯å¯¹æ•°æ®åº“è¿›è¡ŒæŒä¹…åŒ–æ“ä½œã€‚</p>
<blockquote>
<p>æ¨èIDEAæ’ä»¶<a class="link"   target="_blank" rel="noopener" href="https://plugins.jetbrains.com/plugin/8321-free-mybatis-plugin" >FreeMyBatisPlugin<i class="fas fa-external-link-alt"></i></a>ã€‚</p>
</blockquote>
<h2 id="é…ç½®è¯¦è§£"><a class="header-anchor" href="#é…ç½®è¯¦è§£">â—‹</a>é…ç½®è¯¦è§£</h2>
<p><strong>Mavenåæ ‡</strong></p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>x.x.x<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
<h3 id="XMLæ ¸å¿ƒé…ç½®"><a class="header-anchor" href="#XMLæ ¸å¿ƒé…ç½®">â—‹</a>XMLæ ¸å¿ƒé…ç½®</h3>
<h4 id="è¿è¡Œç¯å¢ƒé…ç½®"><a class="header-anchor" href="#è¿è¡Œç¯å¢ƒé…ç½®">â—‹</a>è¿è¡Œç¯å¢ƒé…ç½®</h4>
<p>è¿è¡Œç¯å¢ƒéœ€è¦æŒ‡å®šæ•°æ®åº“è¿æ¥æ± å’Œäº‹åŠ¡ç®¡ç†ç±»å‹ã€‚å®Œæˆä»¥ä¸‹é…ç½®å³å¯å®Œæˆæœ€ç®€å•çš„æŒä¹…åŒ–æ“ä½œã€‚</p>
<ul>
<li>
<p>æ•°æ®æºç¯å¢ƒ</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span></code></pre>
<p>æ•°æ®æºç¯å¢ƒå¯ä»¥é…ç½®å¤šä¸ªï¼Œå…¶ä¸­æŒ‡å®šä¸€ä¸ªIDä¸ºé»˜è®¤è¿è¡Œç¯å¢ƒï¼Œé…ç½®DataSourceçš„æ–¹æ³•ä¸Springé…ç½®ç›¸ä¼¼ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨propertiesæ–‡ä»¶ã€‚</p>
</li>
<li>
<p>åŠ è½½æ˜ å°„æ–‡ä»¶</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;xml-url&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span></code></pre>
</li>
</ul>
<h4 id="è¯¦ç»†é…ç½®"><a class="header-anchor" href="#è¯¦ç»†é…ç½®">â—‹</a>è¯¦ç»†é…ç½®</h4>
<ul>
<li>
<p><strong>environment</strong></p>
<p><code>transactionManager</code>ï¼šäº‹åŠ¡ç®¡ç†å™¨ç±»å‹ï¼Œåˆ†ä¸º JDBCã€MANAGED</p>
<p><code>dataSource</code>ï¼šè¿æ¥æ± ç±»å‹ï¼Œåˆ†ä¸ºUNPOOLEDã€POOLEDã€JNDIï¼Œ<strong>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªå®ç°<code>UnpooledDataSourceFactory</code>çš„ç±»ä½œä¸ºtypeï¼Œå¦‚æœè¦ä½¿ç”¨ç¬¬ä¸‰æ–¹è¿æ¥æ± å°±éœ€è¦è¿™ä¹ˆåš</strong></p>
<p><code>JDBC</code>å’Œ<code>POOLED</code>æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå…¶ä»–åŠŸèƒ½ä¸åšè§£é‡Šã€‚</p>
</li>
<li>
<p><strong>mapper</strong></p>
<p>åŠ è½½æ˜ å°„å™¨å¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼ï¼Œå¦‚ä»¥ä¸‹ä¸‰ç§ï¼š</p>
<p><code>resource</code>ï¼šç›¸å¯¹ç±»è·¯å¾„ï¼Œç›¸å½“äº<code>classpath:</code>ï¼Œç”¨äºåŠ è½½æ˜ å°„å™¨é…ç½®æ–‡ä»¶</p>
<p><code>class</code>ï¼šåŠ è½½ç±»ï¼Œé€šè¿‡å…¨é™å®šç±»ååŠ è½½ï¼Œç”¨äºåŠ è½½å®ç°æ˜ å°„å™¨æ¥å£çš„ç±»ï¼ˆæ³¨è§£é…ç½®ï¼‰</p>
<p><code>packagename</code>ï¼šåŠ è½½åŒ…åä¸‹æ‰€æœ‰çš„ç±»ï¼ŒåŒæ ·æ˜¯ç”¨äºæ³¨è§£é…ç½®</p>
</li>
<li>
<p><strong>properties</strong></p>
<p>åŠ è½½é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨<code>resource=&quot;path&quot;</code>åŠ è½½ç±»ä¸‹è·¯å¾„çš„æ–‡ä»¶ï¼Œä¸éœ€è¦åŠ classpath</p>
</li>
<li>
<p><strong>typeAliases</strong></p>
<p>å®šä¹‰ç±»å‹åˆ«åï¼Œç”¨äºç®€åŒ–å…¨é™å®šç±»åï¼Œåˆ›å»ºåˆ«åå’ŒçœŸåçš„æ˜ å°„å…³ç³»ã€‚Mybatiså†…éƒ¨å°†JavaåŸºç¡€ç±»å‹ä¸åŒ…è£…å™¨ç±»å‹æ˜ å°„èµ·æ¥äº†ï¼Œæ‰€ä»¥ä½¿ç”¨<code>int</code>ã€<code>double</code>ç­‰åç§°æ—¶ï¼Œå¯¹åº”çš„æ˜¯åŒ…è£…å™¨ç±»åã€‚</p>
</li>
<li>
<p><strong>typeHanlder</strong></p>
<p>é…ç½®<a href="#typeHandler">è‡ªå®šä¹‰ç±»å‹è½¬å¤„ç†å™¨</a>ï¼Œéœ€è¦åŒ…è£¹åœ¨<code>typeHanlders</code>ä¸­ï¼Œé€šè¿‡å±æ€§<code>handler=&quot;ç±»å…¨é™å®šå&quot;</code>é…ç½®ä¸€ä¸ªå¤„ç†å™¨ã€‚</p>
</li>
</ul>
<h3 id="XMLæ˜ å°„å…³ç³»é…ç½®"><a class="header-anchor" href="#XMLæ˜ å°„å…³ç³»é…ç½®">â—‹</a>XMLæ˜ å°„å…³ç³»é…ç½®</h3>
<h4 id="å‘½åç©ºé—´"><a class="header-anchor" href="#å‘½åç©ºé—´">â—‹</a>å‘½åç©ºé—´</h4>
<p>æ¯ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå‘½åç©ºé—´ï¼Œéœ€è¦åœ¨æ ‡ç­¾å†…æŒ‡å®šã€‚å‘½åç©ºé—´çš„ä½œç”¨åŒJavaåŒ…ï¼Œä½¿ç”¨æ˜ å°„å…³ç³»æ—¶ï¼Œéœ€è¦ä»¥å‘½åç©ºé—´ä¸ºå¼€å¤´çš„è·¯å¾„ã€‚</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;spaceName&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></code></pre>
<h4 id="sqlè¯­å¥é…ç½®"><a class="header-anchor" href="#sqlè¯­å¥é…ç½®">â—‹</a>sqlè¯­å¥é…ç½®</h4>
<p><code>id</code>æ˜¯è¯­å¥çš„æ ‡è¯†ç¬¦ï¼Œsqlè¯­å¥å¯ä»¥ç›´æ¥å†™åœ¨æ ‡ç­¾ä¸­ã€‚</p>
<ul>
<li>
<p>SELECT</p>
<pre><code class="hljs xml"><span class="hljs-comment">&lt;!--resultTypeæ˜¯è¿”å›ç»“æœçš„ç±»å‹ï¼ŒæŒ‡å®šä¸€ä¸ªç±»Mybatisèƒ½å¤Ÿè‡ªåŠ¨å°è£…--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>sql<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></code></pre>
</li>
<li>
<p>UPDATE</p>
<p><code>&lt;update id=&quot;&quot; parameterType=&quot;&quot;&gt;sql&lt;/update&gt;</code></p>
</li>
<li>
<p>DELETE</p>
<p><code>&lt;delete id=&quot;&quot; &gt;sql&lt;/delete&gt;</code></p>
</li>
<li>
<p>INSERT</p>
<pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åé¢ä¸‰ä¸ªå±æ€§è¡¨ç¤ºè¿”å›æ’å…¥çš„ä¸»é”®idå¹¶ä½¿ç”¨æŒ‡å®šçš„æ˜ å°„å…³ç³»ï¼--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">useGeneratedKeys</span>=<span class="hljs-string">true</span> <span class="hljs-attr">keyProperty</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">keyColumn</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>sql<span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span></code></pre>
</li>
</ul>
<h5 id="ä½¿ç”¨å ä½ç¬¦"><a class="header-anchor" href="#ä½¿ç”¨å ä½ç¬¦">â—‹</a>ä½¿ç”¨å ä½ç¬¦</h5>
<p>mybatisä¸­å ä½ç¬¦ç”¨<code>#&#123;name&#125;</code>è¡¨ç¤ºï¼Œè¿™ä¸ªå ä½ç¬¦æ˜¯å®‰å…¨çš„ï¼Œä¸Jdbcçš„<code>?</code>ä¸€æ ·ã€‚åœ¨ç¬¦å·å†…éƒ¨å¯ä»¥å¡«å†™å¤šä¸ªå±æ€§ï¼Œå¦‚é™å®šè¿™ä¸ªå ä½ç¬¦çš„ç±»å‹ç­‰ï¼Œæ›´å¤šå±æ€§çš„è®¾ç½®è¯·åˆ°å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥è¯¢ã€‚</p>
<pre><code class="hljs sql">#&#123;id, javaType=int, jdbcType=NUMERIC&#125;</code></pre>
<p>â„¹ï¸<em>ELè¡¨è¾¾å¼<code>$&#123;&#125;</code>ä¼šå°†å‚æ•°ç›´æ¥ä½œä¸ºå­—ç¬¦ä¸²æ’å…¥ï¼Œå±äºä¸å®‰å…¨æ“ä½œï¼Œä¸èƒ½ç”¨äº<strong>æ¡ä»¶è¡¨è¾¾å¼</strong></em></p>
<p><strong>ç”¨å®ä½“å¯¹è±¡ä½œä¸ºå ä½ç¬¦å‚æ•°</strong></p>
<p>Mybatiså…·å¤‡å°†å¤æ‚å¯¹è±¡çš„å±æ€§é…ç½®åˆ°å ä½ç¬¦ä¸­çš„åŠŸèƒ½ï¼Œå…¶ä¸­å¯¹è±¡çš„å±æ€§åéœ€è¦å’Œå ä½ç¬¦å†…<code>name</code>çš„å‚æ•°åä¿æŒä¸€è‡´ï¼Œmybatiså³å¯è‡ªåŠ¨çš„é…ç½®åˆ°å ä½ç¬¦ä¸­ã€‚</p>
<p>sqlæ ‡ç­¾ä½¿ç”¨<code>parameterType</code>å±æ€§å¯ä»¥æŒ‡å®šè¯¥æ¡è¯­å¥æ‰€éœ€è¦çš„å‚æ•°å¯¹è±¡ç±»å‹ï¼Œåœ¨ç¼ºçœçš„æƒ…å†µä¸‹Mybatisèƒ½å¤Ÿè‡ªåŠ¨æ¨æ–­ã€‚</p>
<h4 id="ResultMap"><a class="header-anchor" href="#ResultMap">â—‹</a>ResultMap</h4>
<p><a class="link"   target="_blank" rel="noopener" href="https://github.com/838239178/SpringStudy/tree/master/mybatis_study/src" >æµ‹è¯•ç”¨ä¾‹å­<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»“æœæ˜ å°„ï¼Œé€šè¿‡<code>resultType</code>æŒ‡å®šçš„ç±»å‹ï¼Œèƒ½å¤Ÿè¢«mybatisè‡ªåŠ¨åˆ›å»ºå¹¶è®¾ç½®å…¶ä¸­çš„å±æ€§å€¼ï¼Œå½“åˆ—åå’Œå±æ€§ååŒ¹é…ä¸Šæ—¶ï¼Œä¸éœ€è¦é¢å¤–é…ç½®ï¼Œè€Œå¤æ‚æƒ…å†µä¸‹å¯ä»¥é€šè¿‡æ˜¾å¼é…ç½®<code>resultMap</code>çš„æ–¹å¼å®Œæˆæ˜ å°„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ResultMapåœ¨é…ç½®ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³è”æŸ¥è¯¢æ—¶ä½¿ç”¨ã€‚</p>
<ol>
<li>é…ç½®ä¸€ä¸ªæ‰€éœ€çš„resultMap</li>
</ol>
   <pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span>  <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;class&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!--æŠŠclassçš„å±æ€§ååŒåˆ—åå…³è”èµ·æ¥--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;&quot;</span>/&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span>
    <span class="hljs-comment">&lt;!--ä¸€å¯¹ä¸€å…³ç³»æ˜ å°„--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">assosiation</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;class&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">assosiation</span>&gt;</span>
    <span class="hljs-comment">&lt;!--ä¸€å¯¹å¤š/å¤šå¯¹å¤šå…³ç³»æ˜ å°„--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;class&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span></code></pre>
<p>ä¸»é”®ä¸€èˆ¬ä½¿ç”¨<code>&lt;id&gt;</code>æ ‡ç­¾æ¥é…ç½®ã€‚</p>
<ol start="2">
<li>å°†sqlè¯­å¥çš„<code>resultType</code>æ›´æ¢ä¸º<code>resultMap</code></li>
</ol>
   <pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;mapId&quot;</span>&gt;</span>sql<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></code></pre>
<p><a class="link"   target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#Result_Maps" >æ›´åŠ å¤æ‚çš„é«˜çº§ç»“æœæ˜ å°„è¯·çœ‹å®˜æ–¹æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a>åŒ…å«å¤šè¡¨å…³ç³»æŸ¥è¯¢éœ€è¦çš„å¤æ‚åµŒå¥—æ˜ å°„</p>
<h4 id="SelectKey"><a class="header-anchor" href="#SelectKey">â—‹</a>SelectKey</h4>
<p>è¯¥æ ‡ç­¾ç”¨åœ¨å¢åˆ æ”¹è¯­å¥ä¸­ï¼Œèƒ½å¤Ÿå®Œæˆä¸€æ¬¡å­æŸ¥è¯¢å¹¶å°è£…åˆ°å‚æ•°ä¸­ã€‚</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">selectKey</span> <span class="hljs-attr">keyProperty</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">keyColumn</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">order</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>sql<span class="hljs-tag">&lt;/<span class="hljs-name">selectKey</span>&gt;</span></code></pre>
<ul>
<li><code>keyProperty</code>ã€<code>keyColumn</code> é…ç½®æ˜ å°„å…³ç³»ï¼Œç»“æœå°†ä¿å­˜åˆ°keyPropertyå¯¹åº”å‚æ•°ä¸­ï¼ˆå¯ä»¥æ˜¯å¯¹è±¡ä¸­çš„å±æ€§ï¼‰</li>
<li><code>resultType</code> è¿”å›ç»“æœå¯¹åº”çš„JavaType</li>
<li><code>order</code> æŒ‡å®šä¸ºBEFORE/AFTERï¼Œæ„ä¸ºåœ¨ä¸»æŸ¥è¯¢ä¹‹å‰è¿˜æ˜¯ä¹‹åè¿›è¡Œè¿™ä¸ªå­æŸ¥è¯¢</li>
</ul>
<p><em>SelectKeyéœ€è¦æ³¨æ„orderå±æ€§ï¼ŒåƒMysqlä¸€ç±»æ”¯æŒè‡ªåŠ¨å¢é•¿ç±»å‹çš„æ•°æ®åº“ä¸­ï¼Œorderéœ€è¦è®¾ç½®ä¸ºafteræ‰ä¼šå–åˆ°æ­£ç¡®çš„å€¼</em></p>
<blockquote>
<p>âš ï¸å¦‚æœæ˜¯éœ€è¦è·å–è‡ªå¢é•¿çš„ä¸»é”®IDï¼Œæ¨èä½¿ç”¨insertæ ‡ç­¾ä¸­çš„<a href="#sql%E8%AF%AD%E5%8F%A5%E9%85%8D%E7%BD%AE">useGeneratorKeysæ¨¡å¼</a>ï¼Œå¦‚æœæ˜¯æ³¨è§£æ–¹æ³•ï¼Œè¯·ä½¿ç”¨<code>@Options</code>é…ç½®ç›¸åŒçš„å†…å®¹ã€‚<em>mssqlä¸­ï¼Œç”¨SelectKeyä¸”ä½¿ç”¨<code>SCOPE_IDENTITY()</code>æ¥è·å–ä¸»é”®çš„è¯æ˜¯æ— æ³•è·å–çš„ï¼ˆnullï¼‰ä½†ä½¿ç”¨<code>@@IDENTITY</code>èƒ½å¤Ÿæ­£ç¡®è·å–</em></p>
</blockquote>
<h4 id="ç¼“å­˜ä¼˜åŒ–"><a class="header-anchor" href="#ç¼“å­˜ä¼˜åŒ–">â—‹</a>ç¼“å­˜ä¼˜åŒ–</h4>
<p>å½“ä¸€æ¡è¯­å¥è¢«è°ƒç”¨æ—¶ï¼Œmybatisèƒ½å¤Ÿå°†å…¶è¿”å›ç»“æœç¼“å­˜èµ·æ¥ï¼Œè‹¥æœ‰å¤šæ¬¡æŸ¥è¯¢åˆ™å¯ä»¥ä½¿ç”¨ç¼“å­˜ç›´æ¥è¿”å›ã€‚</p>
<p>Selectè¯­å¥é»˜è®¤æ˜¯æ‰“å¼€ç¼“å­˜çš„ï¼Œç¼“å­˜å¼€å¯æ–¹å¼å¦‚ä¸‹ï¼š</p>
<p>åœ¨sqlè¯­å¥æ ‡ç­¾ä¸­æ·»åŠ å±æ€§<code>useCache=&quot;true&quot;</code>å³å¯å¼€å¯ï¼Œå½“ä½¿ç”¨å±æ€§<code>flushCache=&quot;true&quot;</code>æ—¶ï¼Œè°ƒç”¨sqlä¼šåˆ·æ–°ç¼“å­˜åŒºï¼Œé»˜è®¤ä¸º<code>false</code></p>
<h3 id="æ³¨è§£é…ç½®"><a class="header-anchor" href="#æ³¨è§£é…ç½®">â—‹</a>æ³¨è§£é…ç½®</h3>
<table>
<thead>
<tr>
<th>å¸¸ç”¨æ³¨è§£</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Insert, @Update, @Delete,   @Select</td>
<td>å¢åˆ æ”¹æŸ¥è¯­å¥ï¼Œå¡«å†™sqlè¯­å¥ï¼Œå‚æ•°é€šç”¨<code>#&#123;&#125;</code></td>
</tr>
<tr>
<td>@Result</td>
<td>æ˜ å°„å°è£…ç»“æœï¼Œç›¸å½“äºxmlä¸­çš„id/resultï¼Œä½¿ç”¨columnå’Œpropertyé…ç½®æ˜ å°„å…³ç³»ï¼Œä½¿ç”¨<code>@One</code>/<code>@Many</code>ä½œä¸ºå‚æ•°é…ç½®å¤æ‚æ˜ å°„ï¼Œå‚æ•°<code>id=true</code>è¡¨æ˜ä¸ºä¸»é”®</td>
</tr>
<tr>
<td>@Results</td>
<td>å°è£…å¤šä¸ªç»“æœï¼Œç›¸å½“äºxmlä¸­çš„resultMapï¼Œå¯æŒ‡å®šå±æ€§<code>id</code>ï¼Œç»„åˆå¤šä¸ª<code>@Result</code>æ ‡ç­¾</td>
</tr>
<tr>
<td>@One</td>
<td>å®ç°ä¸€å¯¹ä¸€æŸ¥è¯¢å°è£…ï¼Œè°ƒç”¨å…¶ä»–æ¥å£ï¼Œå®Œæˆå­æŸ¥è¯¢æ“ä½œï¼Œè¿”å›å•ä¸€çš„å¯¹è±¡</td>
</tr>
<tr>
<td>@Many</td>
<td>å®ç°ä¸€å¯¹å¤šã€å¤šå¯¹å¤šæŸ¥è¯¢å°è£…ï¼Œè°ƒç”¨å…¶ä»–æ¥å£ï¼Œå®Œæˆå­æŸ¥è¯¢æ“ä½œï¼Œè¿”å›é›†åˆå¯¹è±¡</td>
</tr>
<tr>
<td>@ResultMap</td>
<td>ç»™<code>@Select</code>æä¾›<code>&lt;resultMap&gt;/@Results</code>çš„idï¼Œå¤ç”¨resultMapï¼Œå‚æ•°ä¸ºä¸€ä¸ª<code>int</code>æ•°ç»„</td>
</tr>
<tr>
<td>@Options</td>
<td>é…ç½®å¯¹åº”æ–¹æ³•çš„sqlå±æ€§ï¼Œå¦‚useGeneratorKeyã€useCahceç­‰ï¼Œæ— æ³•æŒ‡å®šç©ºå€¼ï¼Œæ‰€ä»¥ä¸€æ—¦ä½¿ç”¨å°±å—æ‰€æœ‰é»˜è®¤å€¼çš„æ”¯é…ã€‚</td>
</tr>
<tr>
<td>@SelectKey</td>
<td>æä¾›åœ¨insertã€updateã€deleteæ—¶è¿›è¡ŒäºŒæ¬¡æŸ¥è¯¢ï¼Œå¹¶è¿”å›æŸäº›å±æ€§ã€‚å‚æ•°<code>keyProperty</code>ã€<code>keyColumn</code>æŒ‡å®šæ˜ å°„å…³ç³»ï¼Œ<code>statement</code>æŒ‡å®šsqlè¯­å¥ï¼Œ<code>before</code>ä»£æ›¿orderå±æ€§ï¼Œä½¿ç”¨boolå†³å®šï¼Œè¿˜æœ‰å…¶ä»–å‚æ•°<a href="#SelectKey">åŒä¸Šæ–‡</a></td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>ä¸€å¯¹ä¸€æŸ¥è¯¢</p>
<p>åŸç†æ˜¯è¿›è¡Œä¸¤æ¬¡æŸ¥è¯¢ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢çš„æ¡ä»¶å–å†³äºç¬¬ä¸€æ¬¡æŸ¥è¯¢å¾—åˆ°çš„å¤–é”®</p>
<pre><code class="hljs java"><span class="hljs-meta">@Results(&#123;</span>
<span class="hljs-meta">    @Result(id=true,column=&quot;&quot;,property=&quot;&quot;),</span>
<span class="hljs-meta">    // è¿›è¡Œä¸€æ¬¡å­æŸ¥è¯¢å°è£…</span>
<span class="hljs-meta">   	@Resutl(</span>
<span class="hljs-meta">        property=&quot;&quot;,javaType=class,</span>
<span class="hljs-meta">        column=&quot;ä¸‹ä¸€æ¬¡æŸ¥è¯¢ä½¿ç”¨å“ªä¸€åˆ—çš„å€¼&quot;</span>
<span class="hljs-meta">    	one=@One(select=&quot;æ¥å£æ–¹æ³•å…¨é™å®šå&quot;)</span>
<span class="hljs-meta">    )</span>
<span class="hljs-meta">&#125;)</span>
<span class="hljs-meta">@Select(&quot;sql&quot;)</span></code></pre>
</li>
<li>
<p>ä¸€å¯¹å¤šã€å¤šå¯¹å¤šæŸ¥è¯¢</p>
<pre><code class="hljs java"><span class="hljs-meta">@Result(</span>
<span class="hljs-meta">    @Result(</span>
<span class="hljs-meta">		/*çœç•¥ç›¸åŒéƒ¨åˆ†*/</span>
<span class="hljs-meta">        many=@Many(select=&quot;&quot;)</span>
<span class="hljs-meta">    )</span>
<span class="hljs-meta">)</span>
<span class="hljs-meta">@Select(&quot;sql&quot;)</span></code></pre>
</li>
</ul>
<h2 id="åŠ¨æ€SQL"><a class="header-anchor" href="#åŠ¨æ€SQL">â—‹</a>åŠ¨æ€SQL</h2>
<p>åœ¨é…ç½®æ˜ å°„å…³ç³»æ—¶ï¼ŒMybatisæä¾›äº†ä¸€ç³»åˆ—æ ‡ç­¾ï¼Œä½¿å¾—sqlè¯­å¥èƒ½å¤ŸåŠ¨æ€çš„ç”Ÿæˆã€‚æ ¹æ®å‚æ•°ä¸åŒï¼Œåœ¨åŒä¸€ä¸ªæ ‡ç­¾ä¸‹èƒ½å¤Ÿç”Ÿæˆä¸åŒè¯­å¥ã€‚</p>
<h3 id="åŠ¨æ€æ ‡ç­¾"><a class="header-anchor" href="#åŠ¨æ€æ ‡ç­¾">â—‹</a>åŠ¨æ€æ ‡ç­¾</h3>
<p>åŠ¨æ€æ ‡ç­¾æ˜¯ç”¨äº<code>select</code>ç­‰æ ‡ç­¾å†…éƒ¨ï¼Œç”¨æ¥åŠ¨æ€ç”Ÿæˆsqlè¯­å¥çš„æ ‡ç­¾ã€‚</p>
<ul>
<li>
<p><code>&lt;where&gt;</code></p>
<p>ç”¨äºåŒ…è£¹å…¶ä»–åŠ¨æ€æ ‡ç­¾ï¼Œé˜²æ­¢ä¸ä½¿ç”¨æ¡ä»¶åˆ¤æ–­æ—¶é€ æˆsqlè¯­æ³•é—®é¢˜ï¼Œå½“<code>where</code>æ ‡ç­¾å†…æ²¡æœ‰ç”Ÿæˆä»»ä½•sqlè¯­å¥æ—¶ï¼Œä¸ä¼šåœ¨åŸæœ‰sqlä¸ŠåŠ å…¥whereå­—æ®µï¼Œåä¹‹åˆ™åŠ ä¸Šwhereå­—æ®µã€‚<em>ï¼ˆå®é™…ä¸Šæ˜¯æ·»åŠ ä¸€ä¸ªâ€™ where 1=1 'ï¼‰</em></p>
</li>
<li>
<p><code>&lt;if&gt;</code></p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;boolè¡¨è¾¾å¼&quot;</span>&gt;</span>
    sql
<span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span></code></pre>
</li>
<li>
<p><code>&lt;foreach&gt;</code></p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;é›†åˆç±»å‹&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;å¼€å§‹å­—æ®µ&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;ç»“æŸå­—æ®µ&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;åˆ†éš”ç¬¦&quot;</span>&gt;</span>
	sqlï¼Œä½¿ç”¨#&#123;name&#125;å¼•ç”¨item
<span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span></code></pre>
</li>
<li>
<p><code>&lt;trim&gt;</code> ä¸whereç”¨æ³•ç›¸ä¼¼</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">trim</span> <span class="hljs-attr">perfix</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">suffix</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">prefixOverrides</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">suffixOverrides</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>
	sql
<span class="hljs-tag">&lt;/<span class="hljs-name">trim</span>&gt;</span></code></pre>
<table>
<thead>
<tr>
<th style="text-align:center">å±æ€§</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">perfix</td>
<td style="text-align:center">ç»™sqlè¯­å¥æ‹¼æ¥çš„å‰ç¼€</td>
</tr>
<tr>
<td style="text-align:center">suffix</td>
<td style="text-align:center">ç»™sqlè¯­å¥æ‹¼æ¥çš„åç¼€</td>
</tr>
<tr>
<td style="text-align:center">prefixOverrides</td>
<td style="text-align:center">å»é™¤sqlè¯­å¥å‰é¢çš„å…³é”®å­—æˆ–è€…å­—ç¬¦ï¼Œè¯¥å…³é”®å­—æˆ–è€…å­—ç¬¦ç”±prefixOverrideså±æ€§æŒ‡å®šï¼Œå‡è®¾è¯¥å±æ€§æŒ‡å®šä¸º&quot;AND&quot;ï¼Œå½“sqlè¯­å¥çš„å¼€å¤´ä¸º&quot;AND&quot;ï¼Œtrimæ ‡ç­¾å°†ä¼šå»é™¤è¯¥&quot;AND&quot;</td>
</tr>
<tr>
<td style="text-align:center">suffixOverrides</td>
<td style="text-align:center">å»é™¤sqlè¯­å¥åé¢çš„å…³é”®å­—æˆ–è€…å­—ç¬¦ï¼Œè¯¥å…³é”®å­—æˆ–è€…å­—ç¬¦ç”±suffixOverrideså±æ€§æŒ‡å®š</td>
</tr>
</tbody>
</table>
<p><em>æ›´å¤šæ ‡ç­¾è¯¦è§å®˜æ–¹æ–‡æ¡£</em></p>
</li>
</ul>
<h3 id="ç‰‡æ®µæŠ½å–"><a class="header-anchor" href="#ç‰‡æ®µæŠ½å–">â—‹</a>ç‰‡æ®µæŠ½å–</h3>
<p><code>&lt;sql&gt;</code>ç‰‡æ®µæ ‡ç­¾ï¼Œä½¿ç”¨è¿™ä¸ªæ ‡ç­¾å¯ä»¥æŠ½å–é‡å¤ç‰‡æ®µï¼Œå¹¶ä½¿ç”¨æ ‡ç­¾idä½œä¸ºå˜é‡ä»£æ›¿ã€‚</p>
<p><strong>åˆ›å»ºsqlç‰‡æ®µ</strong></p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>sql<span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span></code></pre>
<p><strong>å¼•ç”¨sqlç‰‡æ®µ</strong></p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;sqlId&quot;</span>/&gt;</span></code></pre>
<h3 id="æ³¨è§£ä½¿ç”¨åŠ¨æ€SQL"><a class="header-anchor" href="#æ³¨è§£ä½¿ç”¨åŠ¨æ€SQL">â—‹</a>æ³¨è§£ä½¿ç”¨åŠ¨æ€SQL</h3>
<p>Mybatiså¯¹æ³¨è§£æ–¹å¼çš„SQLä¹Ÿæœ‰åŠ¨æ€åŠŸèƒ½çš„æ”¯æŒï¼Œä¸€å…±æœ‰ä¸¤ç§æ–¹æ³•ã€‚</p>
<ol>
<li>
<p><strong>æ–¹æ³•ä¸€</strong></p>
<p>åœ¨sqlå­—ç¬¦ä¸²å†…ä½¿ç”¨<code>&lt;script&gt;</code>æŠŠsqlè¯­å¥åŒ…è£¹èµ·æ¥ï¼Œåœ¨<code>&lt;script&gt;</code>å†…éƒ¨å°±èƒ½å¤Ÿä½¿ç”¨ä¸Šé¢è®²åˆ°çš„æ ‡ç­¾äº†ï¼Œç”¨æ³•ç›¸åŒï¼Œä½†éœ€è¦æ³¨æ„å†…éƒ¨çš„å¼•å·<code>â€â€œ</code>éœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼</p>
</li>
<li>
<p><strong>æ–¹æ³•äºŒ</strong></p>
<p>ä½¿ç”¨<code>@XXXProvider</code>æ ‡ç­¾ï¼Œ<code>XXX</code>åŒ…æ‹¬Selectã€Insertç­‰ï¼Œå¦‚ï¼š</p>
<pre><code class="hljs java"><span class="hljs-meta">@SelectProvider(type=A.class, method=&quot;mySelect&quot;)</span></code></pre>
<p><code>type</code>æŒ‡å®šä¸€ä¸ªç±»ï¼Œ<code>method</code>æŒ‡å®šä¸€ä¸ªæ–¹æ³•çš„åç§°ï¼Œè¯¥æ–¹æ³•çš„å‚æ•°åº”ä¸æ¥å£æ–¹æ³•å‚æ•°ç›¸åŒæ–¹ä¾¿åˆ¤ç©ºï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>String</code>å¯¹è±¡ä½œä¸ºä¸ºSqlå­—ç¬¦ä¸²ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æ–¹æ³•ä¸­å®ç°Sqlçš„åŠ¨æ€ç”Ÿæˆï¼</p>
<p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼ŒSqlå¦‚ä½•åŠ¨æ€ç”Ÿæˆå®Œå…¨å–å†³äºæˆ‘ä»¬è‡ªå·±ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå·±å®šä¹‰çš„é€»è¾‘æ¥å®Œæˆè¿™ä¸ªå·¥ä½œã€‚ä½†æ˜¯Mybatisä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§é€‰æ‹©â€”â€”ä½¿ç”¨<code>SQL</code>å¯¹è±¡æ„å»ºsqlè¯­å¥ã€‚</p>
</li>
</ol>
<h4 id="SQLå¯¹è±¡"><a class="header-anchor" href="#SQLå¯¹è±¡">â—‹</a>SQLå¯¹è±¡</h4>
<p>SQLå¯¹è±¡æ˜¯ä¸€ä¸ªæ„å»ºSqlçš„å·¥å…·ç±»ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ„é€ ä¸€ä¸ªSqlè¯­å¥ï¼Œä½¿ç”¨å…¶æä¾›çš„<code>SELECT()</code>ã€<code>WHERER()</code>ã€<code>JOIN()</code>ç­‰æ–¹æ³•æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œä¸”æ— éœ€æ‹…å¿ƒè¯­æ³•é—®é¢˜ã€‚</p>
<p>ç®€å•ç”¨ä¾‹ï¼ˆæ¥è‡ªå®˜æ–¹æ–‡æ¡£ï¼‰</p>
<pre><code class="hljs java"><span class="hljs-comment">// åŒ¿åå†…éƒ¨ç±»é£æ ¼</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">deletePersonSql</span><span class="hljs-params">()</span> </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SQL() &#123;&#123;
    DELETE_FROM(<span class="hljs-string">&quot;PERSON&quot;</span>);
    WHERE(<span class="hljs-string">&quot;ID = #&#123;id&#125;&quot;</span>);
  &#125;&#125;.toString();
&#125;

<span class="hljs-comment">// Builder / Fluent é£æ ¼</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">insertPersonSql</span><span class="hljs-params">()</span> </span>&#123;
  String sql = <span class="hljs-keyword">new</span> SQL()
    .INSERT_INTO(<span class="hljs-string">&quot;PERSON&quot;</span>)
    .VALUES(<span class="hljs-string">&quot;ID, FIRST_NAME&quot;</span>, <span class="hljs-string">&quot;#&#123;id&#125;, #&#123;firstName&#125;&quot;</span>)
    .VALUES(<span class="hljs-string">&quot;LAST_NAME&quot;</span>, <span class="hljs-string">&quot;#&#123;lastName&#125;&quot;</span>)
    .toString();
  <span class="hljs-keyword">return</span> sql;
&#125;

<span class="hljs-comment">// åŠ¨æ€æ¡ä»¶ï¼ˆæ³¨æ„å‚æ•°éœ€è¦ä½¿ç”¨ final ä¿®é¥°ï¼Œä»¥ä¾¿åŒ¿åå†…éƒ¨ç±»å¯¹å®ƒä»¬è¿›è¡Œè®¿é—®ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">selectPersonLike</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String id, <span class="hljs-keyword">final</span> String firstName, <span class="hljs-keyword">final</span> String lastName)</span> </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SQL() &#123;&#123;
    SELECT(<span class="hljs-string">&quot;P.ID, P.USERNAME, P.PASSWORD, P.FIRST_NAME, P.LAST_NAME&quot;</span>);
    FROM(<span class="hljs-string">&quot;PERSON P&quot;</span>);
    <span class="hljs-keyword">if</span> (id != <span class="hljs-keyword">null</span>) &#123;
      WHERE(<span class="hljs-string">&quot;P.ID like #&#123;id&#125;&quot;</span>);
    &#125;
    <span class="hljs-keyword">if</span> (firstName != <span class="hljs-keyword">null</span>) &#123;
      WHERE(<span class="hljs-string">&quot;P.FIRST_NAME like #&#123;firstName&#125;&quot;</span>);
    &#125;
    <span class="hljs-keyword">if</span> (lastName != <span class="hljs-keyword">null</span>) &#123;
      WHERE(<span class="hljs-string">&quot;P.LAST_NAME like #&#123;lastName&#125;&quot;</span>);
    &#125;
    ORDER_BY(<span class="hljs-string">&quot;P.LAST_NAME&quot;</span>);
  &#125;&#125;.toString();
&#125;</code></pre>
<h2 id="Plugins"><a class="header-anchor" href="#Plugins">â—‹</a>Plugins</h2>
<p>ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶æˆ–è‡ªå·±å¼€å‘çš„æ’ä»¶å¯¹Mybatisçš„åŠŸèƒ½è¿›è¡Œæ‹“å±•</p>
<h3 id="é…ç½®Plugin"><a class="header-anchor" href="#é…ç½®Plugin">â—‹</a>é…ç½®Plugin</h3>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">&quot;ç±»å…¨é™å®šå&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre>
<h3 id="å¸¸ç”¨æ’ä»¶"><a class="header-anchor" href="#å¸¸ç”¨æ’ä»¶">â—‹</a>å¸¸ç”¨æ’ä»¶</h3>
<ul>
<li>
<p><a class="link"   target="_blank" rel="noopener" href="https://search.maven.org/artifact/com.github.pagehelper/pagehelper/" >pageHelper<i class="fas fa-external-link-alt"></i></a></p>
<p>éå¸¸å¥½ç”¨çš„åˆ†é¡µæ’ä»¶ï¼Œç®€å•çš„å‚æ•°è®¾å®šï¼Œç®€å•çš„æ•°æ®è·å–ã€‚</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</li>
</ul>
<h3 id="è‡ªå®šä¹‰æ’ä»¶"><a class="header-anchor" href="#è‡ªå®šä¹‰æ’ä»¶">â—‹</a>è‡ªå®šä¹‰æ’ä»¶</h3>
<p>å®ç°<code>Interceptor</code>æ¥å£ï¼Œä¸»è¦å®ç°ä¸‰ä¸ªæ–¹æ³•</p>
<ol>
<li>
<p>æ ¸å¿ƒæ–¹æ³•ï¼Œé€šè¿‡<code>invocation</code>å‚æ•°èƒ½å¤Ÿè·å¾—æ˜ å°„å¥½çš„sqlè¯­å¥ï¼Œè¯¥æ–¹æ³•çš„è¿”å›å€¼æ˜¯invocationå¯¹è±¡proceedæ–¹æ³•çš„è¿”å›å€¼ï¼Œä¸<a href="https://blog.pressed.top/javaweb#proxymode">Proxyä»£ç†æ¨¡å¼</a>ä¸€æ ·ã€‚</p>
<pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;&#125;</code></pre>
</li>
<li>
<p>ä¸»è¦ç”¨æ¥å°†å¯¹è±¡å°è£…æˆä»£ç†å¯¹è±¡ï¼Œç¡®ä¿<code>interceptI()</code>èƒ½å¤Ÿè¢«è°ƒç”¨</p>
<pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">plugin</span><span class="hljs-params">(Object target)</span> </span>&#123;
	<span class="hljs-comment">// ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡è¯¥æ–¹æ³•å°è£…</span>
    <span class="hljs-keyword">return</span> Plugin.wrap(target, <span class="hljs-keyword">this</span>);
&#125;</code></pre>
</li>
<li>
<p>æä¾›æ’ä»¶è‡ªå®šä¹‰å±æ€§ï¼Œè¿™ä¸ªæ–¹æ³•çš„å±æ€§èƒ½å¤Ÿåœ¨é…ç½®é˜¶æ®µè¿›è¡Œæ³¨å…¥</p>
<pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setProperties</span><span class="hljs-params">(Properties properties)</span> </span>&#123;&#125;</code></pre>
</li>
</ol>
<h4 id="é…ç½®æ‹¦æˆªæ³¨è§£"><a class="header-anchor" href="#é…ç½®æ‹¦æˆªæ³¨è§£">â—‹</a>é…ç½®æ‹¦æˆªæ³¨è§£</h4>
<p>åœ¨è‡ªå®šä¹‰æ’ä»¶ç±»å®Œæˆåï¼Œéœ€è¦ä½¿ç”¨æ³¨è§£<code>@Intercepts</code>æ¥è¡¨æ˜è¯¥æ’ä»¶éœ€è¦æ‹¦æˆªçš„æ–¹æ³•ç­¾åã€‚</p>
<p>Mybatisåªå…è®¸æ‹¦æˆªä»¥ä¸‹ç±»ä¸­çš„æ–¹æ³•ï¼š</p>
<ul>
<li>Executor (update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)</li>
<li>ParameterHandler (getParameterObject, setParameters)</li>
<li>ResultSetHandler (handleResultSets, handleOutputParameters)</li>
<li>StatementHandler (prepare, parameterize, batch, update, query)</li>
</ul>
<pre><code class="hljs java"><span class="hljs-meta">@Intercepts(&#123;@Signature(</span>
<span class="hljs-meta">  type= Executor.class,</span>
<span class="hljs-meta">  method = &quot;update&quot;,</span>
<span class="hljs-meta">  args = &#123;MappedStatement.class,Object.class&#125;)&#125;)</span></code></pre>
<ul>
<li><code>@Singnature</code>ï¼šè¡¨ç¤ºä¸€ä¸ªæ„é€ ä¸€ä¸ªæ–¹æ³•ç­¾å
<ul>
<li>typeï¼šè¢«æ‹¦æˆªç±»å</li>
<li>methodï¼šè¢«æ‹¦æˆªç±»ä¸­çš„æ–¹æ³•å</li>
<li>argsï¼šè¢«æ‹¦æˆªæ–¹æ³•çš„å‚æ•°</li>
</ul>
</li>
</ul>
<h2 id="JAVA-API"><a class="header-anchor" href="#JAVA-API">â—‹</a>JAVA-API</h2>
<p>ä½¿ç”¨mybatisæä¾›çš„javaå¼€å‘åŒ…ï¼Œç”¨javaå¯¹æ•°æ®åº“è¿›è¡ŒæŒä¹…åŒ–æ“ä½œã€‚</p>
<h3 id="å¿«é€Ÿå…¥é—¨"><a class="header-anchor" href="#å¿«é€Ÿå…¥é—¨">â—‹</a>å¿«é€Ÿå…¥é—¨</h3>
<p>å¿«é€Ÿå…¥é—¨æ¼”ç¤ºäº†mybatis-apiçš„ä¸€ä¸ªåŸºæœ¬ä½¿ç”¨æµç¨‹</p>
<pre><code class="hljs java"><span class="hljs-comment">//1. åŠ è½½æ ¸å¿ƒé…ç½®</span>
InputStream configStream = Resources.getResourcesAsStream(<span class="hljs-string">&quot;sqlMapConfig.xml&quot;</span>);
<span class="hljs-comment">//2. è·å¾—SqlSessionå·¥å‚å¯¹è±¡</span>
SqlSessionFactory factory = <span class="hljs-keyword">new</span> SqlSessionFactoryBuilder().build(configStream);
<span class="hljs-comment">//3. SqlSessionå¯¹è±¡</span>
SqlSession session = factory.openSession();
<span class="hljs-comment">//4. æ‰§è¡Œsqlè¯­å¥</span>
List&lt;Object&gt; list = session.selectList(<span class="hljs-string">&quot;mapping-parttern&quot;</span>);
<span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
session.commit();
<span class="hljs-comment">//5. é‡Šæ”¾SqlSession</span>
session.close();</code></pre>
<h3 id="å¸¸ç”¨å¯¹è±¡è¯¦è§£"><a class="header-anchor" href="#å¸¸ç”¨å¯¹è±¡è¯¦è§£">â—‹</a>å¸¸ç”¨å¯¹è±¡è¯¦è§£</h3>
<ul>
<li>
<p>SqlSession</p>
<p>mybatisä¸»è¦çš„javaæ¥å£ï¼Œä¸€åˆ‡æ•°æ®åº“æ“ä½œéƒ½æ˜¯ç”±è¿™ä¸ªå¯¹è±¡å®Œæˆçš„ã€‚å…¶åœ°ä½ç±»ä¼¼äºJdbcTemplateï¼Œåœ¨ä½¿ç”¨springæ—¶ä¹Ÿèƒ½é€šè¿‡IOCè¿›è¡Œæ³¨å…¥ã€‚</p>
<p>ä¸»è¦æ–¹æ³•æœ‰<code>selectXxx()</code>ã€<code>update()</code>ã€<code>delete()</code>ä»¥åŠäº‹åŠ¡ç®¡ç†çš„<code>commitã€rollback</code>ç­‰</p>
</li>
<li>
<p>SqlSessionFactoryBuilder</p>
<p>ç”¨äºåˆ›å»ºSqlSessionFactoryçš„å¯¹è±¡ï¼Œå…¶ä¸­æ„å»ºæ–¹æ³•ä¸º<code>build()</code>ï¼Œæ”¯æŒä½¿ç”¨<code>InputStream</code>åŠ è½½é…ç½®æ–‡ä»¶æ¥åˆ›å»ºå·¥å‚å¯¹è±¡ã€‚</p>
</li>
<li>
<p>SqlSessionFactory</p>
<p>åˆ›å»ºSqlSessionå¯¹è±¡çš„å·¥å‚ç±»ï¼Œç”¨<code>openSession()</code>æ–¹æ³•åˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨å…¶é‡è½½æ¥è®¾ç½®SqlSessionçš„ä¸€äº›å±æ€§ï¼Œå¦‚æ˜¯å¦è‡ªåŠ¨æäº¤äº‹åŠ¡ä»¥åŠäº‹ç‰©çš„éš”ç¦»çº§åˆ«ç­‰ã€‚</p>
<p>å¼•ç”¨å®˜æ–¹æ–‡æ¡£çš„ä¸€æ®µè¯</p>
<blockquote>
<p>SqlSessionFactory æœ‰å…­ä¸ªæ–¹æ³•åˆ›å»º SqlSession å®ä¾‹ã€‚é€šå¸¸æ¥è¯´ï¼Œå½“ä½ é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œä½ éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li><strong>äº‹åŠ¡å¤„ç†</strong>ï¼šä½ å¸Œæœ›åœ¨ session ä½œç”¨åŸŸä¸­ä½¿ç”¨äº‹åŠ¡ä½œç”¨åŸŸï¼Œè¿˜æ˜¯ä½¿ç”¨è‡ªåŠ¨æäº¤ï¼ˆauto-commitï¼‰ï¼Ÿï¼ˆå¯¹å¾ˆå¤šæ•°æ®åº“å’Œ/æˆ– JDBC é©±åŠ¨æ¥è¯´ï¼Œç­‰åŒäºå…³é—­äº‹åŠ¡æ”¯æŒï¼‰</li>
<li><strong>æ•°æ®åº“è¿æ¥</strong>ï¼šä½ å¸Œæœ› MyBatis å¸®ä½ ä»å·²é…ç½®çš„æ•°æ®æºè·å–è¿æ¥ï¼Œè¿˜æ˜¯ä½¿ç”¨è‡ªå·±æä¾›çš„è¿æ¥ï¼Ÿ</li>
<li><strong>è¯­å¥æ‰§è¡Œ</strong>ï¼šä½ å¸Œæœ› MyBatis å¤ç”¨ PreparedStatement å’Œ/æˆ–æ‰¹é‡æ›´æ–°è¯­å¥ï¼ˆåŒ…æ‹¬æ’å…¥è¯­å¥å’Œåˆ é™¤è¯­å¥ï¼‰å—ï¼Ÿ</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="DAOå±‚æ¥å£ä»£ç†"><a class="header-anchor" href="#DAOå±‚æ¥å£ä»£ç†">â—‹</a>DAOå±‚æ¥å£ä»£ç†</h3>
<p>Mybatisèƒ½å¤Ÿå°†ç¼–å†™çš„<code>Mapper.xml</code>é€šè¿‡Javaçš„æ¥å£è¿›è¡ŒåŠ¨æ€ä»£ç†ï¼Œä½¿å¾—å¼€å‘äººå‘˜è°ƒç”¨daoæ¥å£å°±èƒ½å®Œæˆmapperä¸­å®šä¹‰çš„æ•°æ®åº“æ“ä½œã€‚ä½¿ç”¨æ¥å£ä»£ç†çš„æœ‰ä»¥ä¸‹çš„æ¡ä»¶çº¦æŸï¼š</p>
<ol>
<li>mapperä¸­<strong>namesapce</strong>å±æ€§çš„å€¼éœ€è¦ä¸ºæ‰€éœ€æ¥å£çš„å…¨é™å®šåã€‚</li>
<li>mapperä¸­æ¯ä¸ªå®šä¹‰çš„sqlè¯­å¥<strong>id</strong>å±æ€§éœ€è¦ä¸æ¥å£ä¸­çš„æ–¹æ³•åä¸€ä¸€å¯¹åº”ã€‚</li>
<li>sqlè¯­å¥çš„å‚æ•°ç±»å‹ã€ç»“æœç±»å‹å³ä¸ºæ¥å£æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ã€‚</li>
<li>æ¥å£çš„è®¾è®¡ä¸èƒ½ä½¿ç”¨é‡è½½ã€‚</li>
</ol>
<p>â„¹ï¸<em>ä½¿ç”¨IDEAæ’ä»¶èƒ½å¤Ÿæ ¹æ®æ•°æ®åº“å…³ç³»è‡ªåŠ¨ç”Ÿæˆå®ä½“å’Œæ¥å£</em></p>
<h4 id="API"><a class="header-anchor" href="#API">â—‹</a>API</h4>
<p>é€šè¿‡<code>SqlSession</code>çš„<code>getMapper(dao.class)</code>è·å¾—æ¥å£çš„ä»£ç†å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨æ¥å£å³å¯ã€‚</p>
<h3 id="typeHandler"><a class="header-anchor" href="#typeHandler">â—‹</a>typeHandler</h3>
<p>ç±»å‹å¤„ç†å™¨ï¼Œåœ¨Mybatisç”Ÿæˆ<code>PreparedStatement</code>æˆ–è·å–ç»“æœæ—¶ä¼šè°ƒç”¨ç±»å‹å¤„ç†å™¨æ¥è½¬åŒ–sqlæ‰€éœ€çš„å‚æ•°ã€‚Mybatisé»˜è®¤ä½¿ç”¨äº†è®¸å¤šè½¬æ¢å™¨ï¼Œåœ¨ä½¿ç”¨æ—¶èƒ½å¤Ÿè‡ªåŠ¨æ¨æ–­ç±»å‹ä½¿ç”¨å“åº”è½¬æ¢å™¨ï¼Œä¹Ÿèƒ½äº‹å…ˆé€šè¿‡<code>parameterType</code>ã€<code>resultType</code>æŒ‡æ˜å‚æ•°ç±»å‹ã€‚</p>
<h4 id="è‡ªå®šä¹‰typeHandler"><a class="header-anchor" href="#è‡ªå®šä¹‰typeHandler">â—‹</a>è‡ªå®šä¹‰typeHandler</h4>
<p>ç±»å‹è½¬æ¢å™¨éœ€è¦å®ç°<code>TypeHandler</code>æ¥å£æˆ–ç»§æ‰¿<code>BaseTypeHandler&lt;T&gt;</code>ç±»ï¼Œæ³›å‹ä¸ºéœ€è¦è‡ªå®šä¹‰è½¬åŒ–çš„Javaç±»ã€‚</p>
<ul>
<li>
<p>parameterè½¬åŒ–é€»è¾‘</p>
<p>å½“mybatisè®¾ç½®æ•°æ®åˆ°æ•°æ®åº“æ—¶è°ƒç”¨ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥è‡ªå®šä¹‰å‚æ•°è½¬åŒ–é€»è¾‘</p>
<pre><code class="hljs java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setNonNullParameter</span><span class="hljs-params">(PreparedStatement preparedStatement, <span class="hljs-keyword">int</span> i, T obj, </span></span>
<span class="hljs-function"><span class="hljs-params">                                JdbcType jdbcType)</span> </span>&#123;
    <span class="hljs-comment">//ç›´æ¥ä½¿ç”¨preparedStatementçš„setæ–¹æ³•è®¾ç½®å‚æ•°&#x27;obj&#x27;ï¼Œå‚æ•°çš„indexä¸º&#x27;i&#x27;</span>
&#125;</code></pre>
</li>
<li>
<p>resultè½¬åŒ–é€»è¾‘</p>
<p>ä»æ•°æ®åº“å–å‡ºæ•°æ®æ—¶è°ƒç”¨çš„è½¬åŒ–æ–¹æ³•</p>
<pre><code class="hljs java"><span class="hljs-comment">//ä»ä¸‰ç±»ä¸åŒçš„ç»“æœé›†å–å‡ºç»™å®šçš„æ•°æ®å¹¶è½¬åŒ–æˆJavaæ•°æ®ï¼Œç¬¬äºŒä¸ªå‚æ•°å³ä¸ºç»“æœé›†ä¸­æ‰€éœ€å‚æ•°çš„ä½ç½®</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">getNullableResult</span><span class="hljs-params">(ResultSet resultSet, String s)</span> </span>&#123;&#125;

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">getNullableResult</span><span class="hljs-params">(ResultSet resultSet, <span class="hljs-keyword">int</span> i)</span> </span>&#123;&#125;

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">getNullableResult</span><span class="hljs-params">(CallableStatement callableStatement, <span class="hljs-keyword">int</span> i)</span> </span>&#123;&#125;</code></pre></li>
</ul>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2021/03/16/springboot/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Springbootå¿«é€Ÿå…¥é—¨</span>
                                <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/03/12/javaweb/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Java Web</span>
                                <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;è¯„è®º</i>
    </div>
    

        
            
    <div id="gitalk-container"></div>
    <script data-pjax
            src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
    <script data-pjax>

        function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
                __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
                Gitalk && new Gitalk({
                    clientID: '2982aa7bca818df9e147',
                    clientSecret: '45eb0ac1328bfbca8db8c0340439fcce7e73d936',
                    repo: '838239178.github.io',
                    owner: '838239178',
                    admin: ['838239178'],
                    id: __gitalk__pathname,
                    language: 'zh-CN'
                }).render('gitalk-container');

            } catch (e) {
                window.Gitalk = null;
            }
        }

        if ('true') {
            const loadGitalkTimeout = setTimeout(() => {
                loadGitalk();
                clearTimeout(loadGitalkTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
        }
    </script>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">ShiJh</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        è®¿é—®äººæ•°&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        æ€»è®¿é—®é‡&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            ç”± <a target="_blank" href="https://hexo.io">Hexo</a> é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.1</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">ğŸ¦MyBatis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3"><span class="nav-text">é…ç½®è¯¦è§£</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XML%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE"><span class="nav-text">XMLæ ¸å¿ƒé…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="nav-text">è¿è¡Œç¯å¢ƒé…ç½®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE"><span class="nav-text">è¯¦ç»†é…ç½®</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XML%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%E9%85%8D%E7%BD%AE"><span class="nav-text">XMLæ˜ å°„å…³ç³»é…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-text">å‘½åç©ºé—´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sql%E8%AF%AD%E5%8F%A5%E9%85%8D%E7%BD%AE"><span class="nav-text">sqlè¯­å¥é…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="nav-text">ä½¿ç”¨å ä½ç¬¦</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ResultMap"><span class="nav-text">ResultMap</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SelectKey"><span class="nav-text">SelectKey</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E4%BC%98%E5%8C%96"><span class="nav-text">ç¼“å­˜ä¼˜åŒ–</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE"><span class="nav-text">æ³¨è§£é…ç½®</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A8%E6%80%81SQL"><span class="nav-text">åŠ¨æ€SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E6%A0%87%E7%AD%BE"><span class="nav-text">åŠ¨æ€æ ‡ç­¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%87%E6%AE%B5%E6%8A%BD%E5%8F%96"><span class="nav-text">ç‰‡æ®µæŠ½å–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8%E5%8A%A8%E6%80%81SQL"><span class="nav-text">æ³¨è§£ä½¿ç”¨åŠ¨æ€SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL%E5%AF%B9%E8%B1%A1"><span class="nav-text">SQLå¯¹è±¡</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Plugins"><span class="nav-text">Plugins</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEPlugin"><span class="nav-text">é…ç½®Plugin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6"><span class="nav-text">å¸¸ç”¨æ’ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6"><span class="nav-text">è‡ªå®šä¹‰æ’ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E6%B3%A8%E8%A7%A3"><span class="nav-text">é…ç½®æ‹¦æˆªæ³¨è§£</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAVA-API"><span class="nav-text">JAVA-API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-text">å¿«é€Ÿå…¥é—¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%AF%B9%E8%B1%A1%E8%AF%A6%E8%A7%A3"><span class="nav-text">å¸¸ç”¨å¯¹è±¡è¯¦è§£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DAO%E5%B1%82%E6%8E%A5%E5%8F%A3%E4%BB%A3%E7%90%86"><span class="nav-text">DAOå±‚æ¥å£ä»£ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#API"><span class="nav-text">API</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#typeHandler"><span class="nav-text">typeHandler</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89typeHandler"><span class="nav-text">è‡ªå®šä¹‰typeHandler</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/code-copy.js"></script>




<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.1/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        const pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
